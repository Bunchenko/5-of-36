<div class="game">
	<app-card [elemClasses]="'card-game'">
		<p class="instruction">
			To add combinations, use "+" buttons or "Autoselect".
			<br />
			Choose 5 numbers for each combination.
		</p>
		<div class="container">
			<div class="row" *ngFor="let combination of _ballsService.playerCombinations; let i = index">
				<div class="balls-row" (click)="_onModalOpen(i)">
					<ng-container *ngIf="combination.length; else fallbackBalls">
						<app-ball *ngFor="let ball of combination">{{ball}}</app-ball>
					</ng-container>

					<ng-template #fallbackBalls>
						<app-ball *ngFor="let _ of [].constructor(5)">+</app-ball>
					</ng-template>
				</div>
				<app-button *ngIf="!combination.length; else removeButton" (onClick)="_autoselect(i)"
					[customClass]="'primary'" [@buttonChange]>
					Autoselect
				</app-button>

				<ng-template #removeButton>
					<app-button (onClick)="_remove(i)" [customClass]="'danger'" [@buttonChange]>
						Remove
					</app-button>
				</ng-template>
			</div>
		</div>
	</app-card>

	<app-card [elemStyles]="{width: '200px'}"></app-card>

	<app-modal [isOpened]="_showModal" [title]="'Choose 5 numbers'" (closed)="_onModalClose()">
		<div class="balls-grid">
			<app-ball [type]="_chooseBallType(ball).type" [isDisabled]="_chooseBallType(ball).disabled"
				*ngFor="let ball of _ballsService.availableNumbers" (ballClick)="_onBallClick(ball)">
				{{ball}}
			</app-ball>
		</div>
	</app-modal>
</div>